<!doctype html>
<html lang="ru">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover" />
  <title>Календарь — без прокрутки, адаптивно</title>
  <style>
    :root {
      --vh: 1vh;     /* JS-фоллбэк: 1% реальной высоты окна */
      --vwpx: 100vw; /* будет заменено JS на точные px */
      /* Опорная «логическая» ширина, от которой считаем масштаб.
         Для месячного вида комфортно 980–1200px; возьмём 1024. */
      --base-width: 1024;
      --bg: #0b0c0f;
    }

    html, body {
      height: 100%;
      margin: 0;
      background: var(--bg);
      -webkit-tap-highlight-color: transparent;
      overscroll-behavior: none;
    }

    /* Область отображения — на весь экран, без рамок/футера */
    .app {
      height: 100dvh;                 /* основная единица */
      height: calc(var(--vh) * 100);  /* фоллбэк */
      width: 100%;
      padding: env(safe-area-inset-top, 0px) env(safe-area-inset-right, 0px)
               env(safe-area-inset-bottom, 0px) env(safe-area-inset-left, 0px);
      box-sizing: border-box;
      display: grid;
      place-items: center;
      background: #0f1117;
    }

    /* Логические размеры до масштабирования */
    .scaled-wrap {
      position: relative;
      width: calc(var(--base-width) * 1px);
      height: calc(var(--vh) * 100);
      height: 100dvh;
      overflow: clip;
      transform-origin: top left;

      /* Масштаб: min(1, viewportWidth / baseWidth) */
      --scale: min(1, calc(var(--vwpx) / (var(--base-width) * 1)));
      transform: scale(var(--scale));
    }

    .calendar {
      position: relative;
      width: 100%;
      height: 100%;
      background: #0f1117;
    }

    .calendar > iframe {
      position: absolute;
      inset: 0;
      width: 100%;
      height: 100%;
      border: 0;
      background: #fff;
      overflow: hidden;
      overscroll-behavior: contain;
    }

    /* Портрет: обязательно занимать весь экран */
    @media screen and (orientation: portrait) {
      .app { height: 100dvh; height: calc(var(--vh) * 100); }
    }

    /* Десктоп/ландшафт: без масштабирования или с мягким ограничением */
    @media (min-width: 1024px) and (orientation: landscape) {
      .scaled-wrap {
        --scale: 1;
        height: min(85vh, 900px);
        height: min(85dvh, 900px);
      }
    }
  </style>
  <script>
    // Устанавливаем точные переменные для устойчивого масштаба/высоты
    (function() {
      function setViewportVars() {
        var vh = window.innerHeight * 0.01;
        var vw = window.innerWidth; // точная ширина в px
        document.documentElement.style.setProperty('--vh', vh + 'px');
        document.documentElement.style.setProperty('--vwpx', vw);
      }
      setViewportVars();
      window.addEventListener('resize', setViewportVars, { passive: true });
      window.addEventListener('orientationchange', setViewportVars, { passive: true });
    })();
  </script>
</head>
<body>
  <div class="app" role="application" aria-label="Календарь — все элементы помещаются на экране">
    <div class="scaled-wrap">
      <div class="calendar">
        <iframe
          src="https://calendar.yandex.ru/embed/month?private_token=60dc2986fd011ad112334068ba1429c715c3c6df&tz_id=Europe/Moscow"
          loading="lazy"
          referrerpolicy="no-referrer-when-downgrade"
          allowtransparency="true"
          title="Яндекс.Календарь — месячный вид"
        ></iframe>
      </div>
    </div>
  </div>
</body>
</html>
